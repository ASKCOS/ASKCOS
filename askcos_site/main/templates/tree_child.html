<!-- Describe this node -->

{% if target.is_chemical %}

<div id="{{ target.id }}" class="chem">
<a class="treetooltip treebox" style="border-color: {% if target.ppg %}green{% else %}orange{% endif %}">
<img src="{% url 'draw_smiles' target.smiles %}" alt="{{ target.smiles }}" width="75%">
<div>
	<center>
		<font class="smiles">{{ target.smiles }}</font>
        {% if target.score %}<br>score: {{ target.score }}{% endif %}
		{% if target.ppg %}<br>${{ target.ppg }}/g{% endif %}
	</center>
</div>
</a>
</div>

{% else %} 

<div targetid="{{ target.id }}" class="rxn rxn{{ target.id }}" smiles="{{ target.smiles }}" necessaryreagent="{{ target.necessary_reagent }}">
<a targetid="{{ target.id }}" class="treetooltip treetooltip{{ target.id }} treebox" style="border-color:black">
{% if target.num_examples %}{{ target.num_examples }} examples{% endif %}
<div>
    <center>
        <p class="eval{{ target.id }}">Click to evaluate (v0.1)!</p>
        {% if target.info %}{{ target.info }}<br>{% endif %}
        {% if target.necessary_reagent %}Needs source of {{ target.necessary_reagent }}<br>{% endif %}
<!--         Based on templates...
 --><!--         {% for tform in target.tforms %}
            <font class="smiles">
                <p onclick="window.open('{% url 'template_target' tform %}')">Template {{ tform }}</p>
            </font>
        {% endfor %} -->
    </center>
</div>
</a>
</div>

{% endif %}


<!-- Now add children recursively -->
{% if target.children %}
{% if target.children|length > 0 %}
    <ul>
        {% for child in target.children %}
        <li>
            {% include 'tree_child.html' with target=child %}
        </li>
        {% endfor %}
    </ul>
{% endif %}
{% endif %}